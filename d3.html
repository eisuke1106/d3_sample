<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>D3.js Practice</title>
</head>
<body>

    <svg width="600" height="240">
    </svg>

    <script src="http://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <script>
        (function() {
            'use strict';

            var WIDTH = 600;
            var HEIGHT = 240;
            
            var data = [];

            // update pattern
            function update(data) {
                var circles = d3.select('svg').selectAll('circle').data(data);
                
                // enter + update
                circles
                    .enter()
                    .append('circle')
                    .merge(circles)
                    // .attr('cx', 0)
                    .attr('cx', function(d, i){
                        return i * 50 + 50;
                    })
                    .attr('cy', HEIGHT / 2)
                    .attr('r', function(d){
                        return d;
                    })
                    .attr('fill', 'red');
                    
                // exit
                circles
                    .exit()
                    .remove();
            }

            data = [10, 15];
            update(data);

            data = [10, 12, 15];
            update(data);

            // data = [16];
            // update(data);

            // circles
            //     // .attr('cx', 0)
            //     .attr('cx', function(d, i){
            //         return i * 50 + 50;
            //     })
            //     // .attr('cy', 120)
            //     .attr('cy', HEIGHT + 100)
            //     // .attr('r', 10)
            //     .attr('r', function(d){
            //         return d;
            //     })
            //     .attr('fill', 'pink')
            //     .attr('cursor', 'pointer')
            //     .on('click', function(d, i){
            //         d3.select(this)
            //             .transition()
            //                 .duration(500)
            //                 .attr('cy', -100)
            //                 .on('end', function(){
            //                     alert('Ball ' + i + ' is gone!');
            //                 });
            //     })
            //     .transition()
            //         .duration(800)
            //         // .delay(100)
            //         .delay(function(d,i){
            //             return i * 200;
            //         })
            //         // .ease(d3.easeBounce)
            //         .ease(d3.easeElastic)
            //         .attr('cy', HEIGHT / 2)
            //     // .transition()
            //     //     .attr('cy', - 100);
        })();
    </script>
</body>
</html>